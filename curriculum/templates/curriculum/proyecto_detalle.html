<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>{{ proyecto.titulo }}</title>
    {% load static %}
    <link 
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" 
        rel="stylesheet"
    >
</head>
<body class="bg-light">
    <div class="container py-4">
        <a href="{% url 'home' %}" class="btn btn-secondary mb-3">&larr; Volver</a>

        <h1>{{ proyecto.titulo }}</h1>
        <p>{{ proyecto.descripcion }}</p>
        {% if proyecto.link_github %}
        <p><a href="{{ proyecto.link_github }}" class="btn btn-dark" target="_blank">
            <i class="bi bi-github"></i> Ver en GitHub
        </a></p>
        {% endif %}

        <hr>
        <h3>Tecnologías Usadas</h3>
        <ul>
            {% if proyecto.tecnologias %}
            <li><strong>Tecnologías generales:</strong> {{ proyecto.tecnologias }}</li>
            {% endif %}
            {% if proyecto.frontend %}
            <li><strong>Frontend:</strong> {{ proyecto.frontend }}</li>
            {% endif %}
            {% if proyecto.backend %}
            <li><strong>Backend:</strong> {{ proyecto.backend }}</li>
            {% endif %}
            {% if proyecto.base_datos %}
            <li><strong>Base de Datos:</strong> {{ proyecto.base_datos }}</li>
            {% endif %}
            {% if proyecto.otras_librerias %}
            <li><strong>Otras Librerías:</strong> {{ proyecto.otras_librerias }}</li>
            {% endif %}
        </ul>

        <h3>Imágenes del Proyecto</h3>
        <div id="carouselDetalle{{ proyecto.id }}" class="carousel slide" data-bs-ride="carousel">
            <div class="carousel-inner">
                {% for imagen in proyecto.imagenes.all %}
                <div class="carousel-item {% if forloop.first %}active{% endif %}">
                    <img src="{{ imagen.imagen.url }}" class="d-block w-100" alt="Imagen del proyecto">
                </div>
                {% empty %}
                <div class="carousel-item active">
                    <img src="{% static 'curriculum/img/placeholder.jpg' %}" class="d-block w-100" alt="Sin imagen">
                </div>
                {% endfor %}
            </div>
            {% if proyecto.imagenes.count > 1 %}
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselDetalle{{ proyecto.id }}" data-bs-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselDetalle{{ proyecto.id }}" data-bs-slide="next">
                <span class="carousel-control-next-icon"></span>
            </button>
            {% endif %}
        </div>
    </div>
    <script 
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js">
    </script>
</body>
</html>
